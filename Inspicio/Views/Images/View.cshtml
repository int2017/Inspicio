@model Inspicio.Models.ReviewViewModels.ViewModel
@using Inspicio.Extensions
@inject IJsonHelper Json;
@inject UserManager<ApplicationUser> UserManager


<script type="text/javascript" src="~/js/ajaxScreens.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.1/css/bootstrap-colorpicker.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-colorpicker/2.5.1/js/bootstrap-colorpicker.min.js"></script>
<script type="text/javascript" src="~/js/background-selector.js"></script>
<div id="view-project-info">
    <div class="container project-container">
        <h1 class="col-md-offset-1">@Model.Review.Title</h1>
        <div class="row">
            <div class="col-md-6 col-md-offset-1">
                @Model.Review.Description
            </div>
            <div class="col-md-4">
                <img class="img-responsive" alt="@Model.Review.Title" src="@Model.Review.Thumbnail" />
            </div>
        </div>
    </div>
    <div class="show-project text-center">
            <h4>Project info</h4>
            <i class="glyphicon glyphicon-chevron-down" id="dropdown"></i>
    </div>
</div>
<div class="view-container">
    
    <div class="row">
        <div class="col-lg-12 col-md-10 ">
            <div class="cover-container">
                @foreach (var id in Model.ScreenIds)
            {
                    <div class="cover-item" id="@id"  onclick="screenSelector(@Model.Review.ReviewId, @id)"></div>
                    <script>
                        screenContent( @id);
                    </script>
                }
            </div>
        </div>
    </div>
    <div id="screen-container">
        @{
            Html.RenderPartial("_ScreenPartial.cshtml");
        }
    </div>
  

</div>

<style>
    footer {
        display: none;
    }

    #showmarker{
        height:70px;
    }
</style>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

<script type="text/javascript" src="~/js/filter.js"></script>
<script type="text/javascript" src="~/js/ajaxThumbs.js"></script>
<script type="text/javascript" src="~/js/widgetControl.js"></script>
<script type="text/javascript" src="~/js/sort-comments.js"></script>
<script type="text/javascript" src="~/js/ajaxComments.js"></script>


<script>

    function createViewModels(id) {
       return {
           "Review": {
               "Title": "@Html.Raw(Model.Review.Title)",
               "Description": "@Html.Raw(Model.Review.Description)",
               "ReviewState": "@Html.Raw(Model.Review.ReviewState)",
               "ReviewStatus": "@Html.Raw(Model.Review.ReviewStatus)"
           },
           "ScreenIds": "@Html.Raw(Model.ScreenIds)",
           "Reviewees": "@Html.Raw(Model.Reviewees)",
           "screenData": "@Html.Raw(Model.screenData)",
           "ScreenId": id

       }
   }

</script>
<script>
    $(window).ready(function () {
        $.initialize(".date-header", function () {
            addComDates();
        });

    });
   

</script>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

<script src="~/js/jquery.initialize.js"></script>
